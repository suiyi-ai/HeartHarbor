{"version":3,"file":"library.js","sources":["pages/library/library.vue","../../../HBuilderX/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbGlicmFyeS9saWJyYXJ5LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"library-page\">\r\n\t\t<!-- Â§¥ÈÉ® -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"header-content\">\r\n\t\t\t\t<text class=\"title\">üìö ÂøÉÁêÜÁü•ËØÜÂ∫ì</text>\r\n\t\t\t\t<text class=\"subtitle\">‰∏ì‰∏öÂøÉÁêÜÁü•ËØÜÔºåÂä©‰Ω†Êõ¥Â•ΩÊàêÈïø</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÊêúÁ¥¢Ê†è -->\r\n\t\t<view class=\"search-bar\">\r\n\t\t\t<view class=\"search-input\">\r\n\t\t\t\t<text class=\"search-icon\">üîç</text>\r\n\t\t\t\t<input \r\n\t\t\t\t\tclass=\"input\" \r\n\t\t\t\t\tplaceholder=\"ÊêúÁ¥¢ÂøÉÁêÜÁü•ËØÜ...\" \r\n\t\t\t\t\tv-model=\"searchText\"\r\n\t\t\t\t\t@input=\"onSearchInput\"\r\n\t\t\t\t\t@confirm=\"onSearchConfirm\"\r\n\t\t\t\t/>\r\n\t\t\t\t<text class=\"clear-icon\" v-if=\"searchText\" @click=\"clearSearch\">‚úï</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÂàÜÁ±ªÊ†áÁ≠æ -->\r\n\t\t<view class=\"category-tabs\">\r\n\t\t\t<scroll-view \r\n\t\t\t\tclass=\"tabs-scroll\" \r\n\t\t\t\tscroll-x=\"true\" \r\n\t\t\t\tshow-scrollbar=\"false\"\r\n\t\t\t\t:scroll-left=\"scrollLeft\"\r\n\t\t\t>\r\n\t\t\t\t<view class=\"tabs\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tv-for=\"(tab, index) in tabs\" \r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t:class=\"['tab', {active: activeTab === index}]\"\r\n\t\t\t\t\t\t@click=\"selectTab(index)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"tab-icon\">{{tab.icon}}</text>\r\n\t\t\t\t\t\t<text class=\"tab-text\">{{tab.name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÁÉ≠Èó®Êé®Ëçê -->\r\n\t\t<view class=\"hot-section\" v-if=\"activeTab === 0 && !searchText\">\r\n\t\t\t<view class=\"section-header\">\r\n\t\t\t\t<text class=\"section-title\">üî• ÁÉ≠Èó®Êé®Ëçê</text>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view class=\"hot-list\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"hot-item\" \r\n\t\t\t\t\tv-for=\"(article, index) in hotArticles\" \r\n\t\t\t\t\t:key=\"article.id\"\r\n\t\t\t\t\t@click=\"readArticle(article)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"hot-badge\" v-if=\"index === 0\">TOP 1</view>\r\n\t\t\t\t\t<text class=\"hot-title\">{{article.title}}</text>\r\n\t\t\t\t\t<text class=\"hot-category\">{{article.category}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÊñáÁ´†ÂàóË°® -->\r\n\t\t<scroll-view \r\n\t\t\tclass=\"content-list\" \r\n\t\t\tscroll-y=\"true\"\r\n\t\t\t:refresher-enabled=\"true\"\r\n\t\t\t:refresher-triggered=\"isRefreshing\"\r\n\t\t\t@refresherrefresh=\"onRefresh\"\r\n\t\t\t@scrolltolower=\"loadMore\"\r\n\t\t\t:lower-threshold=\"100\"\r\n\t\t>\r\n\t\t\t<view class=\"articles-container\">\r\n\t\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\r\n\t\t\t\t<view class=\"empty-state\" v-if=\"!isLoading && filteredArticles.length === 0\">\r\n\t\t\t\t\t<view class=\"empty-icon-wrapper\">\r\n\t\t\t\t\t\t<text class=\"empty-icon\">üìñ</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†Áõ∏ÂÖ≥ÊñáÁ´†</text>\r\n\t\t\t\t\t<text class=\"empty-desc\">ËØïËØïÂÖ∂‰ªñÂàÜÁ±ªÊàñÂÖ≥ÈîÆËØçÂêß~</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- ÊñáÁ´†Âç°Áâá -->\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"article-item\" \r\n\t\t\t\t\tv-for=\"(article, index) in filteredArticles\" \r\n\t\t\t\t\t:key=\"article.id || index\"\r\n\t\t\t\t\t:style=\"{animationDelay: (index * 0.05) + 's'}\"\r\n\t\t\t\t\t@click=\"readArticle(article)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"article-header\">\r\n\t\t\t\t\t\t<view class=\"article-title-wrapper\">\r\n\t\t\t\t\t\t\t<text class=\"article-title\">{{article.title}}</text>\r\n\t\t\t\t\t\t\t<view class=\"article-badges\">\r\n\t\t\t\t\t\t\t\t<text class=\"article-badge hot\" v-if=\"article.isHot\">üî• ÁÉ≠Èó®</text>\r\n\t\t\t\t\t\t\t\t<text class=\"article-badge new\" v-if=\"article.isNew\">‚ú® Êñ∞</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"article-category\" :style=\"{backgroundColor: getCategoryColor(article.category)}\">\r\n\t\t\t\t\t\t\t<text class=\"category-icon\">{{getCategoryIcon(article.category)}}</text>\r\n\t\t\t\t\t\t\t<text class=\"category-text\">{{article.category}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<text class=\"article-summary\">{{article.summary}}</text>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"article-footer\">\r\n\t\t\t\t\t\t<view class=\"article-meta\">\r\n\t\t\t\t\t\t\t<text class=\"read-time\">‚è± {{article.readTime}}ÂàÜÈíüÈòÖËØª</text>\r\n\t\t\t\t\t\t\t<text class=\"view-count\">üëÅ {{article.viewCount || 0}}Ê¨°ÊµèËßà</text>\r\n\t\t\t\t\t\t\t<text class=\"article-date\">{{formatDate(article.date)}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"article-actions\">\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"action-btn favorite-btn\" \r\n\t\t\t\t\t\t\t\t:class=\"{active: article.isFavorited}\"\r\n\t\t\t\t\t\t\t\t@click.stop=\"toggleFavorite(article, index)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<text class=\"action-icon\">{{article.isFavorited ? '‚ù§Ô∏è' : 'ü§ç'}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- Âä†ËΩΩÊõ¥Â§ö -->\r\n\t\t\t\t<view class=\"load-more\" v-if=\"hasMore && !isLoading && filteredArticles.length > 0\">\r\n\t\t\t\t\t<view class=\"load-more-content\">\r\n\t\t\t\t\t\t<text class=\"load-more-icon\">‚¨áÔ∏è</text>\r\n\t\t\t\t\t\t<text class=\"load-more-text\">‰∏äÊãâÂä†ËΩΩÊõ¥Â§ö</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- Âä†ËΩΩ‰∏≠ -->\r\n\t\t\t\t<view class=\"loading\" v-if=\"isLoading && filteredArticles.length > 0\">\r\n\t\t\t\t\t<view class=\"loading-spinner\">\r\n\t\t\t\t\t\t<text class=\"spinner-dot\">.</text>\r\n\t\t\t\t\t\t<text class=\"spinner-dot\">.</text>\r\n\t\t\t\t\t\t<text class=\"spinner-dot\">.</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"loading-text\">Âä†ËΩΩ‰∏≠...</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- Ê≤°ÊúâÊõ¥Â§ö -->\r\n\t\t\t\t<view class=\"no-more\" v-if=\"!hasMore && filteredArticles.length > 0\">\r\n\t\t\t\t\t<view class=\"no-more-line\"></view>\r\n\t\t\t\t\t<text class=\"no-more-text\">Ê≤°ÊúâÊõ¥Â§ö‰∫Ü</text>\r\n\t\t\t\t\t<view class=\"no-more-line\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport conversationService from '@/utils/supabase.js'\r\n\t\r\n\t// È°µÈù¢Ë∑ØÂæÑÂ∏∏Èáè - ÊòæÂºèÂÆö‰πâ‰ª•Á°Æ‰øù‰ª£Á†Å‰æùËµñÂàÜÊûêËÉΩÂ§üËØÜÂà´\r\n\tconst ARTICLE_DETAIL_PAGE = '/pages/library/article-detail'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchText: '',\r\n\t\t\t\tactiveTab: 0,\r\n\t\t\t\tscrollLeft: 0,\r\n\t\t\t\tisRefreshing: false,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\thasMore: true,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\ttabs: [\r\n\t\t\t\t\t{ name: 'ÂÖ®ÈÉ®', icon: 'üìö', value: 'all' },\r\n\t\t\t\t\t{ name: 'ÊÉÖÁª™ÁÆ°ÁêÜ', icon: 'üòä', value: 'ÊÉÖÁª™ÁÆ°ÁêÜ' },\r\n\t\t\t\t\t{ name: 'ÂéãÂäõÂ∫îÂØπ', icon: 'üò∞', value: 'ÂéãÂäõÂ∫îÂØπ' },\r\n\t\t\t\t\t{ name: '‰∫∫ÈôÖÂÖ≥Á≥ª', icon: 'üë•', value: '‰∫∫ÈôÖÂÖ≥Á≥ª' },\r\n\t\t\t\t\t{ name: 'Ëá™ÊàëÊàêÈïø', icon: 'üå±', value: 'Ëá™ÊàëÊàêÈïø' },\r\n\t\t\t\t\t{ name: 'Áù°Áú†ÂÅ•Â∫∑', icon: 'üò¥', value: 'Áù°Áú†ÂÅ•Â∫∑' },\r\n\t\t\t\t\t{ name: 'ÁÑ¶ËôëÊäëÈÉÅ', icon: 'üòî', value: 'ÁÑ¶ËôëÊäëÈÉÅ' },\r\n\t\t\t\t\t{ name: '‰∫≤Â≠êÂÖ≥Á≥ª', icon: 'üë®‚Äçüë©‚Äçüëß', value: '‰∫≤Â≠êÂÖ≥Á≥ª' }\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\tarticles: [] // ‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÔºå‰∏çÂÜç‰ΩøÁî®Á°¨ÁºñÁ†ÅÊï∞ÊçÆ\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcomputed: {\r\n\t\t\t// ÁÉ≠Èó®ÊñáÁ´†Ôºà‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÔºâ\r\n\t\t\thotArticles() {\r\n\t\t\t\t// Â¶ÇÊûúÊñáÁ´†ÂàóË°®‰∏≠ÊúâÁÉ≠Èó®ÊñáÁ´†ÔºåËøîÂõûÂâç5Êù°\r\n\t\t\t\t// Âê¶ÂàôËøîÂõûÁ©∫Êï∞ÁªÑÔºàÁÉ≠Èó®ÊñáÁ´†‰ºöÂú®loadArticlesÊó∂Âä†ËΩΩÔºâ\r\n\t\t\t\treturn this.articles.filter(article => article.isHot).slice(0, 5)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Á≠õÈÄâÂêéÁöÑÊñáÁ´†ÔºàÁé∞Âú®Â∑≤Áªè‰ªéÊï∞ÊçÆÂ∫ìÁ≠õÈÄâÔºåËøôÈáåÁõ¥Êé•ËøîÂõûÔºâ\r\n\t\t\tfilteredArticles() {\r\n\t\t\t\t// Áî±‰∫éÂ∑≤ÁªèÂú®loadArticles‰∏≠ÊåâÂàÜÁ±ªÂíåÊêúÁ¥¢Á≠õÈÄâÔºåËøôÈáåÁõ¥Êé•ËøîÂõû\r\n\t\t\t\t// ‰ΩÜÂ¶ÇÊûúÈúÄË¶ÅÂâçÁ´ØÂÜçÊ¨°Á≠õÈÄâÔºåÂèØ‰ª•‰øùÁïô‰ª•‰∏ãÈÄªËæë\r\n\t\t\t\treturn [...this.articles]\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad() {\r\n\t\t\tthis.loadArticles()\r\n\t\t\tthis.loadFavorites()\r\n\t\t},\r\n\t\t\r\n\t\tonShow() {\r\n\t\t\t// Âà∑Êñ∞Êî∂ËóèÁä∂ÊÄÅÂíåÊñáÁ´†ÂàóË°®\r\n\t\t\tthis.loadFavorites()\r\n\t\t\t// Â¶ÇÊûúÊñáÁ´†ÂàóË°®‰∏∫Á©∫ÔºåÈáçÊñ∞Âä†ËΩΩ\r\n\t\t\tif (this.articles.length === 0) {\r\n\t\t\t\tthis.loadArticles()\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t// Âä†ËΩΩÊñáÁ´†ÂàóË°®\r\n\t\t\tasync loadArticles(refresh = false) {\r\n\t\t\t\tif (this.isLoading) return\r\n\t\t\t\t\r\n\t\t\t\tthis.isLoading = true\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (refresh) {\r\n\t\t\t\t\t\tthis.currentPage = 1\r\n\t\t\t\t\t\tthis.hasMore = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Ëé∑ÂèñÂàÜÁ±ª\r\n\t\t\t\t\tconst category = this.activeTab === 0 ? null : this.tabs[this.activeTab].value\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÊñáÁ´†\r\n\t\t\t\t\tconst newArticles = await conversationService.supabaseService.getArticles({\r\n\t\t\t\t\t\tpage: this.currentPage,\r\n\t\t\t\t\t\tlimit: this.pageSize,\r\n\t\t\t\t\t\tcategory: category,\r\n\t\t\t\t\t\tsearch: this.searchText || null,\r\n\t\t\t\t\t\torderBy: 'created_at',\r\n\t\t\t\t\t\torder: 'desc'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Ê£ÄÊü•Áî®Êà∑Êî∂ËóèÁä∂ÊÄÅ\r\n\t\t\t\t\tfor (let article of newArticles) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tarticle.isFavorited = await conversationService.supabaseService.checkUserFavoriteArticle(article.id)\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error('Ê£ÄÊü•Êî∂ËóèÁä∂ÊÄÅÂ§±Ë¥•:', error)\r\n\t\t\t\t\t\t\tarticle.isFavorited = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Ê†ºÂºèÂåñÊó•Êúü\r\n\t\t\t\t\t\tif (article.date) {\r\n\t\t\t\t\t\t\tarticle.date = new Date(article.date).toISOString().split('T')[0]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (refresh) {\r\n\t\t\t\t\t\tthis.articles = newArticles\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.articles = [...this.articles, ...newArticles]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Ê£ÄÊü•ÊòØÂê¶ËøòÊúâÊõ¥Â§ö\r\n\t\t\t\t\tthis.hasMore = newArticles.length >= this.pageSize\r\n\t\t\t\t\tif (this.hasMore) {\r\n\t\t\t\t\t\tthis.currentPage++\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Âä†ËΩΩÊñáÁ´†Â§±Ë¥•:', error)\r\n\t\t\t\t\t// Â¶ÇÊûúÊï∞ÊçÆÂ∫ìÂä†ËΩΩÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®ÁöÑÂ§áÁî®Êï∞ÊçÆ\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Âä†ËΩΩÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Êï∞ÊçÆ',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t})\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.isLoading = false\r\n\t\t\t\t\tthis.isRefreshing = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÈÄâÊã©ÂàÜÁ±ª\r\n\t\t\tselectTab(index) {\r\n\t\t\t\tthis.activeTab = index\r\n\t\t\t\t// ÈáçÊñ∞Âä†ËΩΩÊñáÁ´†\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadArticles(true)\r\n\t\t\t\t// ÊªöÂä®Âà∞ÈÄâ‰∏≠ÁöÑÊ†áÁ≠æ\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\t\t\tquery.selectAll('.tab').boundingClientRect((rects) => {\r\n\t\t\t\t\t\tif (rects[index]) {\r\n\t\t\t\t\t\t\tthis.scrollLeft = rects[index].left - 40\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊêúÁ¥¢ËæìÂÖ•\r\n\t\t\tonSearchInput(e) {\r\n\t\t\t\tthis.searchText = e.detail.value\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊêúÁ¥¢Á°ÆËÆ§\r\n\t\t\tonSearchConfirm() {\r\n\t\t\t\t// ÈáçÊñ∞Âä†ËΩΩÊñáÁ´†\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadArticles(true)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê∏ÖÁ©∫ÊêúÁ¥¢\r\n\t\t\tclearSearch() {\r\n\t\t\t\tthis.searchText = ''\r\n\t\t\t\t// ÈáçÊñ∞Âä†ËΩΩÊñáÁ´†\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadArticles(true)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ‰∏ãÊãâÂà∑Êñ∞\r\n\t\t\tonRefresh() {\r\n\t\t\t\tthis.isRefreshing = true\r\n\t\t\t\tthis.currentPage = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadArticles(true)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Âä†ËΩΩÊõ¥Â§ö\r\n\t\t\tloadMore() {\r\n\t\t\t\tif (this.hasMore && !this.isLoading) {\r\n\t\t\t\t\tthis.loadArticles(false)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÈòÖËØªÊñáÁ´†\r\n\t\t\tasync readArticle(article) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// ‰øùÂ≠òÈòÖËØªÂéÜÂè≤Âà∞Êï∞ÊçÆÂ∫ì\r\n\t\t\t\t\tawait conversationService.supabaseService.saveArticleReadHistory(article.id, 100, 0)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Â¢ûÂä†ÊµèËßàÊï∞ÔºàÊï∞ÊçÆÂ∫ì‰ºöËá™Âä®Êõ¥Êñ∞Ôºâ\r\n\t\t\t\t\tarticle.viewCount = (article.viewCount || 0) + 1\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('‰øùÂ≠òÈòÖËØªÂéÜÂè≤Â§±Ë¥•:', error)\r\n\t\t\t\t\t// Â§±Ë¥•‰∏çÂΩ±ÂìçË∑≥ËΩ¨\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Ë∑≥ËΩ¨Âà∞ÊñáÁ´†ËØ¶ÊÉÖÈ°µ\r\n\t\t\t\t// ‰ΩøÁî®ÊòæÂºèÂÆö‰πâÁöÑÈ°µÈù¢Ë∑ØÂæÑÂ∏∏ÈáèÔºåÁ°Æ‰øù‰ª£Á†Å‰æùËµñÂàÜÊûêËÉΩÂ§üËØÜÂà´\r\n\t\t\t\tconst articleDetailUrl = ARTICLE_DETAIL_PAGE + `?id=${article.id}&title=${encodeURIComponent(article.title)}`\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: articleDetailUrl,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('ÂØºËà™ÊàêÂäüÔºöË∑≥ËΩ¨Âà∞ÊñáÁ´†ËØ¶ÊÉÖÈ°µ')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.error('ÂØºËà™Â§±Ë¥•:', err)\r\n\t\t\t\t\t\t// Â¶ÇÊûúÈ°µÈù¢‰∏çÂ≠òÂú®Ôºå‰ΩøÁî®ÂºπÁ™óÊòæÁ§∫\r\n\t\t\t\t\t\tthis.showArticleModal(article)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÊòæÁ§∫ÊñáÁ´†ÂºπÁ™óÔºàÂ§áÁî®ÊñπÊ°àÔºâ\r\n\t\t\tshowArticleModal(article) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: article.title,\r\n\t\t\t\t\tcontent: article.content.substring(0, 500) + '...',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tconfirmText: 'Áü•ÈÅì‰∫Ü',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t// ÂèØ‰ª•Ê∑ªÂä†Êü•ÁúãÊõ¥Â§öÈÄªËæë\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ÂàáÊç¢Êî∂Ëóè\r\n\t\t\tasync toggleFavorite(article, index) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// ‰ªéÊï∞ÊçÆÂ∫ìÂàáÊç¢Êî∂ËóèÁä∂ÊÄÅ\r\n\t\t\t\t\tconst result = await conversationService.supabaseService.toggleArticleFavorite(article.id)\r\n\t\t\t\t\tarticle.isFavorited = result.favorited\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Êõ¥Êñ∞Êî∂ËóèÊï∞ÔºàÊï∞ÊçÆÂ∫ìËß¶ÂèëÂô®‰ºöËá™Âä®Êõ¥Êñ∞Ôºâ\r\n\t\t\t\t\tif (result.favorited) {\r\n\t\t\t\t\t\tarticle.favoriteCount = (article.favoriteCount || 0) + 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarticle.favoriteCount = Math.max(0, (article.favoriteCount || 0) - 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ÂêåÊó∂Êõ¥Êñ∞Êú¨Âú∞Â≠òÂÇ®Ôºà‰Ωú‰∏∫Â§áÁî®Ôºâ\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet favorites = uni.getStorageSync('library_favorites') || []\r\n\t\t\t\t\t\tif (result.favorited) {\r\n\t\t\t\t\t\t\tif (!favorites.includes(article.id)) {\r\n\t\t\t\t\t\t\t\tfavorites.push(article.id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfavorites = favorites.filter(id => id !== article.id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.setStorageSync('library_favorites', favorites)\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('Êõ¥Êñ∞Êú¨Âú∞Êî∂ËóèÂ§±Ë¥•:', error)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: result.favorited ? 'Â∑≤Êî∂Ëóè' : 'Â∑≤ÂèñÊ∂àÊî∂Ëóè',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t})\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('ÂàáÊç¢Êî∂ËóèÂ§±Ë¥•:', error)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'Êìç‰ΩúÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Âä†ËΩΩÊî∂ËóèÂàóË°®\r\n\t\t\tasync loadFavorites() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// ‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÊî∂ËóèÁä∂ÊÄÅ\r\n\t\t\t\t\tfor (let article of this.articles) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tarticle.isFavorited = await conversationService.supabaseService.checkUserFavoriteArticle(article.id)\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error('Ê£ÄÊü•Êî∂ËóèÁä∂ÊÄÅÂ§±Ë¥•:', error)\r\n\t\t\t\t\t\t\t// Â¶ÇÊûúÊï∞ÊçÆÂ∫ìÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®‰Ωú‰∏∫Â§áÁî®\r\n\t\t\t\t\t\t\tconst favorites = uni.getStorageSync('library_favorites') || []\r\n\t\t\t\t\t\t\tarticle.isFavorited = favorites.includes(article.id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Âä†ËΩΩÊî∂ËóèÂ§±Ë¥•:', error)\r\n\t\t\t\t\t// Â¶ÇÊûúÊï∞ÊçÆÂ∫ìÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®‰Ωú‰∏∫Â§áÁî®\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst favorites = uni.getStorageSync('library_favorites') || []\r\n\t\t\t\t\t\tthis.articles.forEach(article => {\r\n\t\t\t\t\t\t\tarticle.isFavorited = favorites.includes(article.id)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.error('Âä†ËΩΩÊú¨Âú∞Êî∂ËóèÂ§±Ë¥•:', e)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ëé∑ÂèñÂàÜÁ±ªÂõæÊ†á\r\n\t\t\tgetCategoryIcon(category) {\r\n\t\t\t\tconst icons = {\r\n\t\t\t\t\t'ÊÉÖÁª™ÁÆ°ÁêÜ': 'üòä',\r\n\t\t\t\t\t'ÂéãÂäõÂ∫îÂØπ': 'üò∞',\r\n\t\t\t\t\t'‰∫∫ÈôÖÂÖ≥Á≥ª': 'üë•',\r\n\t\t\t\t\t'Ëá™ÊàëÊàêÈïø': 'üå±',\r\n\t\t\t\t\t'Áù°Áú†ÂÅ•Â∫∑': 'üò¥',\r\n\t\t\t\t\t'ÁÑ¶ËôëÊäëÈÉÅ': 'üòî',\r\n\t\t\t\t\t'‰∫≤Â≠êÂÖ≥Á≥ª': 'üë®‚Äçüë©‚Äçüëß'\r\n\t\t\t\t}\r\n\t\t\t\treturn icons[category] || 'üìö'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ëé∑ÂèñÂàÜÁ±ªÈ¢úËâ≤ - Ê∑°ËìùËâ≤‰∏ªÈ¢ò\r\n\t\t\tgetCategoryColor(category) {\r\n\t\t\t\tconst colors = {\r\n\t\t\t\t\t'ÊÉÖÁª™ÁÆ°ÁêÜ': '#E6F3FF',\r\n\t\t\t\t\t'ÂéãÂäõÂ∫îÂØπ': '#E8F4FD',\r\n\t\t\t\t\t'‰∫∫ÈôÖÂÖ≥Á≥ª': '#E6F3FF',\r\n\t\t\t\t\t'Ëá™ÊàëÊàêÈïø': '#EAF5FF',\r\n\t\t\t\t\t'Áù°Áú†ÂÅ•Â∫∑': '#E6F0FF',\r\n\t\t\t\t\t'ÁÑ¶ËôëÊäëÈÉÅ': '#E8F2FF',\r\n\t\t\t\t\t'‰∫≤Â≠êÂÖ≥Á≥ª': '#EAF4FF'\r\n\t\t\t\t}\r\n\t\t\t\treturn colors[category] || '#F5F9FF'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Ê†ºÂºèÂåñÊó•Êúü\r\n\t\t\tformatDate(dateStr) {\r\n\t\t\t\tif (!dateStr) return ''\r\n\t\t\t\tconst date = new Date(dateStr)\r\n\t\t\t\tconst now = new Date()\r\n\t\t\t\tconst diff = now - date\r\n\t\t\t\tconst days = Math.floor(diff / (1000 * 60 * 60 * 24))\r\n\t\t\t\t\r\n\t\t\t\tif (days === 0) return '‰ªäÂ§©'\r\n\t\t\t\tif (days === 1) return 'Êò®Â§©'\r\n\t\t\t\tif (days < 7) return `${days}Â§©Ââç`\r\n\t\t\t\tif (days < 30) return `${Math.floor(days / 7)}Âë®Ââç`\r\n\t\t\t\tif (days < 365) return `${Math.floor(days / 30)}‰∏™ÊúàÂâç`\r\n\t\t\t\treturn `${Math.floor(days / 365)}Âπ¥Ââç`\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n.library-page {\r\n\tmin-height: 100vh;\r\n\tbackground: linear-gradient(135deg, #E6F3FF 0%, #F0F8FF 50%, #E6F3FF 100%);\r\n\tpadding: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n/* Â§¥ÈÉ®Ê†∑Âºè - Ê∑°ËìùËâ≤‰∏ªÈ¢ò */\r\n.header {\r\n\tbackground: linear-gradient(135deg, #B0D8FF 0%, #87CEEB 50%, #B0D8FF 100%);\r\n\tpadding: 40rpx 30rpx 30rpx;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(176, 216, 255, 0.4);\r\n}\r\n\r\n.header-content {\r\n\ttext-align: center;\r\n}\r\n\r\n.title {\r\n\tdisplay: block;\r\n\tfont-size: 52rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #fff;\r\n\tmargin-bottom: 12rpx;\r\n\ttext-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.subtitle {\r\n\tdisplay: block;\r\n\tfont-size: 26rpx;\r\n\tcolor: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n/* ÊêúÁ¥¢Ê†è - Ê∑°ËìùËâ≤‰∏ªÈ¢ò */\r\n.search-bar {\r\n\tpadding: 20rpx;\r\n\tbackground: transparent;\r\n}\r\n\r\n.search-input {\r\n\tbackground: #fff;\r\n\tborder-radius: 44rpx;\r\n\tpadding: 20rpx 30rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(176, 216, 255, 0.2);\r\n\tborder: 2rpx solid rgba(176, 216, 255, 0.4);\r\n}\r\n\r\n.search-icon {\r\n\tfont-size: 32rpx;\r\n\tmargin-right: 15rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.input {\r\n\tflex: 1;\r\n\tfont-size: 28rpx;\r\n\tcolor: #333;\r\n}\r\n\r\n.clear-icon {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n\tpadding: 5rpx 10rpx;\r\n\tmargin-left: 10rpx;\r\n}\r\n\r\n/* ÂàÜÁ±ªÊ†áÁ≠æ */\r\n.category-tabs {\r\n\tpadding: 0 20rpx 20rpx;\r\n}\r\n\r\n.tabs-scroll {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.tabs {\r\n\tdisplay: inline-flex;\r\n\tgap: 15rpx;\r\n\tpadding: 10rpx 0;\r\n}\r\n\r\n.tab {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tgap: 8rpx;\r\n\tbackground: #fff;\r\n\tpadding: 12rpx 24rpx;\r\n\tborder-radius: 24rpx;\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\twhite-space: nowrap;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(176, 216, 255, 0.2);\r\n\ttransition: all 0.3s;\r\n\tborder: 2rpx solid transparent;\r\n}\r\n\r\n.tab:active {\r\n\ttransform: scale(0.95);\r\n}\r\n\r\n.tab.active {\r\n\tbackground: linear-gradient(135deg, #B0D8FF 0%, #87CEEB 100%);\r\n\tcolor: white;\r\n\tborder-color: #87CEEB;\r\n\tbox-shadow: 0 4rpx 15rpx rgba(176, 216, 255, 0.5);\r\n}\r\n\r\n.tab-icon {\r\n\tfont-size: 28rpx;\r\n}\r\n\r\n.tab-text {\r\n\tfont-weight: 500;\r\n}\r\n\r\n/* ÁÉ≠Èó®Êé®Ëçê */\r\n.hot-section {\r\n\tpadding: 0 20rpx 20rpx;\r\n}\r\n\r\n.section-header {\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.section-title {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n}\r\n\r\n.hot-list {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.hot-item {\r\n\tdisplay: inline-block;\r\n\twidth: 280rpx;\r\n\tbackground: linear-gradient(135deg, #B0D8FF 0%, #87CEEB 100%);\r\n\tborder-radius: 20rpx;\r\n\tpadding: 25rpx;\r\n\tmargin-right: 20rpx;\r\n\tcolor: white;\r\n\tposition: relative;\r\n\tbox-shadow: 0 6rpx 20rpx rgba(176, 216, 255, 0.5);\r\n}\r\n\r\n.hot-badge {\r\n\tposition: absolute;\r\n\ttop: -10rpx;\r\n\tright: 15rpx;\r\n\tbackground: #FFD700;\r\n\tcolor: #333;\r\n\tfont-size: 20rpx;\r\n\tpadding: 4rpx 12rpx;\r\n\tborder-radius: 12rpx;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.hot-title {\r\n\tdisplay: block;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tmargin-bottom: 10rpx;\r\n\tline-height: 1.4;\r\n}\r\n\r\n.hot-category {\r\n\tdisplay: block;\r\n\tfont-size: 22rpx;\r\n\topacity: 0.9;\r\n}\r\n\r\n/* ÊñáÁ´†ÂàóË°® */\r\n.content-list {\r\n\tflex: 1;\r\n\theight: 0;\r\n\tpadding: 0 20rpx 20rpx;\r\n}\r\n\r\n.articles-container {\r\n\tpadding-bottom: 20rpx;\r\n}\r\n\r\n/* ÊñáÁ´†Âç°Áâá - Ê∑°ËìùËâ≤‰∏ªÈ¢ò */\r\n.article-item {\r\n\tbackground: #fff;\r\n\tborder-radius: 24rpx;\r\n\tpadding: 32rpx;\r\n\tmargin-bottom: 24rpx;\r\n\tbox-shadow: 0 6rpx 25rpx rgba(176, 216, 255, 0.2);\r\n\tborder: 2rpx solid rgba(176, 216, 255, 0.3);\r\n\tanimation: slideInUp 0.5s ease-out both;\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.article-item:active {\r\n\ttransform: scale(0.99);\r\n}\r\n\r\n@keyframes slideInUp {\r\n\tfrom {\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(30rpx);\r\n\t}\r\n\tto {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n.article-header {\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.article-title-wrapper {\r\n\tdisplay: flex;\r\n\talign-items: flex-start;\r\n\tjustify-content: space-between;\r\n\tmargin-bottom: 15rpx;\r\n}\r\n\r\n.article-title {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333;\r\n\tline-height: 1.5;\r\n\tflex: 1;\r\n\tmargin-right: 15rpx;\r\n}\r\n\r\n.article-badges {\r\n\tdisplay: flex;\r\n\tgap: 8rpx;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.article-badge {\r\n\tfont-size: 20rpx;\r\n\tpadding: 4rpx 10rpx;\r\n\tborder-radius: 10rpx;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.article-badge.hot {\r\n\tbackground: #FFE5E5;\r\n\tcolor: #FF6B6B;\r\n}\r\n\r\n.article-badge.new {\r\n\tbackground: #E6F3FF;\r\n\tcolor: #4A90E2;\r\n}\r\n\r\n.article-category {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tgap: 6rpx;\r\n\tpadding: 6rpx 14rpx;\r\n\tborder-radius: 16rpx;\r\n\tfont-size: 22rpx;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.category-icon {\r\n\tfont-size: 22rpx;\r\n}\r\n\r\n.category-text {\r\n\tcolor: #666;\r\n}\r\n\r\n.article-summary {\r\n\tdisplay: block;\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tline-height: 1.8;\r\n\tmargin-bottom: 20rpx;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tdisplay: -webkit-box;\r\n\t-webkit-line-clamp: 2;\r\n\t-webkit-box-orient: vertical;\r\n}\r\n\r\n.article-footer {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding-top: 20rpx;\r\n\tborder-top: 2rpx solid #F0F0F0;\r\n}\r\n\r\n.article-meta {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 20rpx;\r\n\tflex: 1;\r\n}\r\n\r\n.read-time, .view-count, .article-date {\r\n\tfont-size: 22rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.article-actions {\r\n\tdisplay: flex;\r\n\tgap: 15rpx;\r\n}\r\n\r\n.action-btn {\r\n\twidth: 60rpx;\r\n\theight: 60rpx;\r\n\tborder-radius: 50%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tbackground: #F5F5F5;\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.action-btn:active {\r\n\ttransform: scale(0.9);\r\n}\r\n\r\n.action-btn.active {\r\n\tbackground: #E6F3FF;\r\n}\r\n\r\n.action-icon {\r\n\tfont-size: 32rpx;\r\n}\r\n\r\n/* Á©∫Áä∂ÊÄÅ - Ê∑°ËìùËâ≤‰∏ªÈ¢ò */\r\n.empty-state {\r\n\ttext-align: center;\r\n\tpadding: 120rpx 40rpx;\r\n\tbackground: #fff;\r\n\tborder-radius: 24rpx;\r\n\tmargin: 20rpx 0;\r\n\tbox-shadow: 0 4rpx 20rpx rgba(176, 216, 255, 0.2);\r\n\tborder: 2rpx solid rgba(176, 216, 255, 0.3);\r\n}\r\n\r\n.empty-icon-wrapper {\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.empty-icon {\r\n\tdisplay: block;\r\n\tfont-size: 120rpx;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.empty-text {\r\n\tdisplay: block;\r\n\tfont-size: 34rpx;\r\n\tcolor: #333;\r\n\tmargin-bottom: 12rpx;\r\n\tfont-weight: 600;\r\n}\r\n\r\n.empty-desc {\r\n\tdisplay: block;\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n\tline-height: 1.6;\r\n}\r\n\r\n/* Âä†ËΩΩÁä∂ÊÄÅ */\r\n.load-more {\r\n\ttext-align: center;\r\n\tpadding: 40rpx 20rpx;\r\n}\r\n\r\n.load-more-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 10rpx;\r\n}\r\n\r\n.load-more-icon {\r\n\tfont-size: 24rpx;\r\n\tanimation: bounce 1s infinite;\r\n}\r\n\r\n@keyframes bounce {\r\n\t0%, 100% {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\t50% {\r\n\t\ttransform: translateY(-10rpx);\r\n\t}\r\n}\r\n\r\n.load-more-text {\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.loading {\r\n\ttext-align: center;\r\n\tpadding: 40rpx 20rpx;\r\n}\r\n\r\n.loading-spinner {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tgap: 8rpx;\r\n\tmargin-bottom: 15rpx;\r\n}\r\n\r\n.spinner-dot {\r\n\tfont-size: 40rpx;\r\n\tcolor: #87CEEB;\r\n\tanimation: dotPulse 1.4s infinite ease-in-out both;\r\n}\r\n\r\n.spinner-dot:nth-child(1) {\r\n\tanimation-delay: -0.32s;\r\n}\r\n\r\n.spinner-dot:nth-child(2) {\r\n\tanimation-delay: -0.16s;\r\n}\r\n\r\n@keyframes dotPulse {\r\n\t0%, 80%, 100% {\r\n\t\ttransform: scale(0.6);\r\n\t\topacity: 0.5;\r\n\t}\r\n\t40% {\r\n\t\ttransform: scale(1.2);\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n.loading-text {\r\n\tdisplay: block;\r\n\tfont-size: 26rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.no-more {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 20rpx;\r\n\tpadding: 40rpx 20rpx;\r\n}\r\n\r\n.no-more-line {\r\n\tflex: 1;\r\n\theight: 2rpx;\r\n\tbackground: linear-gradient(90deg, transparent, #E0E0E0, transparent);\r\n}\r\n\r\n.no-more-text {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n/* ÂìçÂ∫îÂºè‰ºòÂåñ */\r\n@media (max-width: 750rpx) {\r\n\t.article-item {\r\n\t\tpadding: 28rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.article-title {\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\t\r\n\t.hot-item {\r\n\t\twidth: 260rpx;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/workspace/PBL2/HeartHarbor/pages/library/library.vue'\nwx.createPage(MiniProgramPage)"],"names":["conversationService","uni"],"mappings":"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"}