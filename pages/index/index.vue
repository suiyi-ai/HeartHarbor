<template>
	<view class="home-page">
		<!-- é¡¶éƒ¨Banner -->
		<view class="banner">
			<view class="welcome-section">
				<text class="greeting">ä¸‹åˆå¥½ï¼Œå¿ƒå±¿ç”¨æˆ·</text>
				<text class="sub-greeting">ä»Šå¤©çš„å¿ƒæƒ…å¦‚ä½•ï¼Ÿ</text>
			</view>
			<view class="user-status">
				<text class="status-text">å·²è¿ç»­è®°å½•7å¤©</text>
				<view class="status-badge">è‰¯å¥½</view>
			</view>
		</view>
		
		<!-- å°ç¨‹åºåŠŸèƒ½ä»‹ç» -->
		<view class="feature-intro">
			<text class="section-title">å°ç¨‹åºåŠŸèƒ½ä»‹ç»</text>
			<view class="feature-grid">
				<view class="feature-item">
					<view class="feature-icon">ğŸŒ³</view>
					<text class="feature-title">æ ‘æ´å€¾è¯‰</text>
					<text class="feature-desc">åŒ¿ååˆ†äº«å¿ƒäº‹ï¼Œè·å¾—æ¸©æš–å›åº”ï¼Œè®©æƒ…ç»ªå¾—åˆ°é‡Šæ”¾</text>
				</view>
				<view class="feature-item">
					<view class="feature-icon">ğŸ¤–</view>
					<text class="feature-title">AIå¿ƒç†ä¼™ä¼´</text>
					<text class="feature-desc">24å°æ—¶åœ¨çº¿é™ªä¼´ï¼Œæä¾›ä¸“ä¸šå¿ƒç†æ”¯æŒå’Œæƒ…ç»ªç–å¯¼</text>
				</view>
				<view class="feature-item">
					<view class="feature-icon">ğŸ“Š</view>
					<text class="feature-title">å¿ƒç†æµ‹è¯„</text>
					<text class="feature-desc">ä¸“ä¸šå¿ƒç†æµ‹è¯•å·¥å…·ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£è‡ªå·±çš„å¿ƒç†çŠ¶æ€</text>
				</view>
				<view class="feature-item">
					<view class="feature-icon">ğŸµ</view>
					<text class="feature-title">æ”¾æ¾éŸ³ä¹</text>
					<text class="feature-desc">ç²¾é€‰æ”¾æ¾éŸ³ä¹åº“ï¼Œå¸®åŠ©ç¼“è§£å‹åŠ›ï¼Œæ”¹å–„ç¡çœ è´¨é‡</text>
				</view>
			</view>
		</view>
		
		<!-- ä»Šæ—¥å¿ƒæƒ…è®°å½• -->
		<view class="mood-section">
			<text class="section-title">è®°å½•ä»Šæ—¥å¿ƒæƒ…</text>
			<view class="mood-selector">
				<view 
					v-for="(mood, index) in moods" 
					:key="index"
					:class="['mood-item', {active: selectedMood === index}]"
					@click="selectMood(index)">
					<text class="mood-emoji">{{mood.emoji}}</text>
					<text class="mood-text">{{mood.text}}</text>
				</view>
			</view>
			<view class="mood-input">
				<input 
					class="input" 
					placeholder="æƒ³è®°å½•äº›ä»€ä¹ˆå—ï¼Ÿï¼ˆå¯é€‰ï¼‰" 
					v-model="moodNote"
				/>
				<button class="save-btn" @click="saveMood">ä¿å­˜</button>
			</view>
		</view>
		
		<!-- å¿ƒç†çŸ¥è¯†å¡ç‰‡ -->
		<view class="knowledge-section">
			<text class="section-title">ä»Šæ—¥å¿ƒç†çŸ¥è¯†</text>
			<view class="knowledge-cards">
				<view class="knowledge-card">
					<text class="card-title">æƒ…ç»ªç®¡ç†å°è´´å£«</text>
					<text class="card-content">å½“æ„Ÿåˆ°ç„¦è™‘æ—¶ï¼Œå°è¯•æ·±å‘¼å¸5ç§’ï¼Œä¿æŒ5ç§’ï¼Œå†ç¼“æ…¢å‘¼æ°”5ç§’ï¼Œé‡å¤å‡ æ¬¡å¯ä»¥å¸®åŠ©å¹³é™æƒ…ç»ªã€‚</text>
				</view>
				<view class="knowledge-card">
					<text class="card-title">å¥åº·ç¡çœ å»ºè®®</text>
					<text class="card-content">ä¿æŒè§„å¾‹çš„ç¡çœ æ—¶é—´ï¼Œç¡å‰1å°æ—¶é¿å…ä½¿ç”¨ç”µå­è®¾å¤‡ï¼Œæœ‰åŠ©äºæé«˜ç¡çœ è´¨é‡ã€‚</text>
				</view>
			</view>
		</view>
		
		<!-- æ¨èå†…å®¹ -->
		<view class="recommend-section">
			<text class="section-title">æ¨èå†…å®¹</text>
			<view class="recommend-list">
				<view class="recommend-item">
					<text class="recommend-title">å¦‚ä½•åº”å¯¹å·¥ä½œå‹åŠ›</text>
					<text class="recommend-desc">å®ç”¨çš„å‹åŠ›ç®¡ç†æŠ€å·§</text>
				</view>
				<view class="recommend-item">
					<text class="recommend-title">å‘¨æœ«æ”¾æ¾æ´»åŠ¨</text>
					<text class="recommend-desc">é€‚åˆå‘¨æœ«çš„å¿ƒç†æ”¾æ¾æ–¹å¼</text>
				</view>
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				selectedMood: -1,
				moodNote: '',
				moods: [
					{ emoji: 'ğŸ˜Š', text: 'å¼€å¿ƒ' },
					{ emoji: 'ğŸ˜', text: 'å¹³é™' },
					{ emoji: 'ğŸ˜”', text: 'éš¾è¿‡' },
					{ emoji: 'ğŸ˜°', text: 'ç„¦è™‘' },
					{ emoji: 'ğŸ˜´', text: 'ç–²æƒ«' }
				]
			}
		},
		methods: {
			selectMood(index) {
				this.selectedMood = index
			},
			saveMood() {
				if (this.selectedMood === -1) {
					uni.showToast({
						title: 'è¯·é€‰æ‹©å¿ƒæƒ…',
						icon: 'none'
					})
					return
				}
				
				const mood = this.moods[this.selectedMood]
				uni.showToast({
					title: `å¿ƒæƒ…è®°å½•æˆåŠŸï¼š${mood.text}`,
					icon: 'success'
				})
				
				// é‡ç½®é€‰æ‹©
				this.selectedMood = -1
				this.moodNote = ''
			},
			navigateTo(page) {
				switch(page) {
					case 'hole':
						uni.switchTab({
							url: '/pages/hole/hole',
							success: () => {
								console.log('å¯¼èˆªæˆåŠŸï¼šè·³è½¬åˆ°æ ‘æ´é¡µé¢')
							},
							fail: (err) => {
								console.error('å¯¼èˆªå¤±è´¥:', err)
								uni.showToast({
									title: 'é¡µé¢è·³è½¬å¤±è´¥ï¼Œè¯·é‡è¯•',
									icon: 'none'
								})
							}
						})
						break
					case 'ai':
						uni.switchTab({
							url: '/pages/ai/ai',
							success: () => {
								console.log('å¯¼èˆªæˆåŠŸï¼šè·³è½¬åˆ°AIä¼™ä¼´é¡µé¢')
							},
							fail: (err) => {
								console.error('å¯¼èˆªå¤±è´¥:', err)
								uni.showToast({
									title: 'é¡µé¢è·³è½¬å¤±è´¥ï¼Œè¯·é‡è¯•',
									icon: 'none'
								})
							}
						})
						break
					case 'test':
						uni.showToast({
							title: 'å¿ƒç†æµ‹è¯•åŠŸèƒ½å¼€å‘ä¸­',
							icon: 'none'
						})
						break
					case 'music':
						uni.showToast({
							title: 'æ”¾æ¾éŸ³ä¹åŠŸèƒ½å¼€å‘ä¸­',
							icon: 'none'
						})
						break
				}
			}
		}
	}
</script>

<style scoped>
.home-page {
	min-height: 100vh;
	background: linear-gradient(135deg, #E6F3FF 0%, #F5F9FF 100%);
	padding: 20rpx;
}

/* é¡¶éƒ¨Banner */
.banner {
	background: linear-gradient(135deg, #1890FF 0%, #40A9FF 100%);
	border-radius: 20rpx;
	padding: 40rpx 30rpx;
	color: white;
	margin-bottom: 30rpx;
	box-shadow: 0 4rpx 20rpx rgba(24, 144, 255, 0.3);
}

.welcome-section {
	margin-bottom: 20rpx;
}

.greeting {
	display: block;
	font-size: 36rpx;
	font-weight: bold;
	margin-bottom: 10rpx;
}

.sub-greeting {
	display: block;
	font-size: 28rpx;
	opacity: 0.9;
}

.user-status {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.status-text {
	font-size: 26rpx;
}

.status-badge {
	background: rgba(255, 255, 255, 0.2);
	padding: 8rpx 20rpx;
	border-radius: 20rpx;
	font-size: 24rpx;
}

/* å°ç¨‹åºåŠŸèƒ½ä»‹ç» */
.feature-intro {
	background: #fff;
	border-radius: 20rpx;
	padding: 30rpx;
	margin-bottom: 30rpx;
	box-shadow: 0 4rpx 20rpx rgba(24, 144, 255, 0.1);
}

.section-title {
	display: block;
	font-size: 32rpx;
	font-weight: bold;
	color: #333;
	margin-bottom: 30rpx;
}

.feature-grid {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 20rpx;
}

.feature-item {
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 25rpx 20rpx;
	background: #F8F9FA;
	border-radius: 15rpx;
	transition: all 0.3s;
}

.feature-item:hover {
	background: #E6F3FF;
	transform: translateY(-2rpx);
}

.feature-icon {
	font-size: 50rpx;
	margin-bottom: 15rpx;
}

.feature-title {
	font-size: 28rpx;
	font-weight: bold;
	color: #1890FF;
	margin-bottom: 10rpx;
	text-align: center;
}

.feature-desc {
	font-size: 22rpx;
	color: #666;
	text-align: center;
	line-height: 1.4;
}

/* å¿ƒæƒ…è®°å½• */
.mood-section {
	background: #fff;
	border-radius: 20rpx;
	padding: 30rpx;
	margin-bottom: 30rpx;
	box-shadow: 0 4rpx 20rpx rgba(24, 144, 255, 0.1);
}

.mood-selector {
	display: flex;
	justify-content: space-between;
	margin-bottom: 30rpx;
}

.mood-item {
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 20rpx;
	border-radius: 15rpx;
	background: #F8F9FA;
	transition: all 0.3s;
}

.mood-item.active {
	background: #E6F3FF;
	border: 2rpx solid #1890FF;
}

.mood-emoji {
	font-size: 40rpx;
	margin-bottom: 10rpx;
}

.mood-text {
	font-size: 24rpx;
	color: #666;
}

.mood-input {
	display: flex;
	gap: 20rpx;
}

.input {
	flex: 1;
	height: 80rpx;
	background: #F8F9FA;
	border: 2rpx solid #E6F3FF;
	border-radius: 40rpx;
	padding: 0 30rpx;
	font-size: 28rpx;
}

.save-btn {
	width: 120rpx;
	height: 80rpx;
	background: linear-gradient(135deg, #1890FF 0%, #40A9FF 100%);
	color: white;
	border-radius: 40rpx;
	font-size: 28rpx;
	border: none;
}

/* çŸ¥è¯†å¡ç‰‡ */
.knowledge-section {
	background: #fff;
	border-radius: 20rpx;
	padding: 30rpx;
	margin-bottom: 30rpx;
	box-shadow: 0 4rpx 20rpx rgba(24, 144, 255, 0.1);
}

.knowledge-cards {
	display: flex;
	flex-direction: column;
	gap: 20rpx;
}

.knowledge-card {
	background: #F8F9FA;
	border-radius: 15rpx;
	padding: 25rpx;
}

.card-title {
	display: block;
	font-size: 28rpx;
	font-weight: bold;
	color: #1890FF;
	margin-bottom: 15rpx;
}

.card-content {
	display: block;
	font-size: 26rpx;
	color: #666;
	line-height: 1.5;
}

/* æ¨èå†…å®¹ */
.recommend-section {
	background: #fff;
	border-radius: 20rpx;
	padding: 30rpx;
	margin-bottom: 30rpx;
	box-shadow: 0 4rpx 20rpx rgba(24, 144, 255, 0.1);
}

.recommend-list {
	display: flex;
	flex-direction: column;
	gap: 20rpx;
}

.recommend-item {
	background: #F8F9FA;
	border-radius: 15rpx;
	padding: 25rpx;
}

.recommend-title {
	display: block;
	font-size: 28rpx;
	font-weight: bold;
	color: #333;
	margin-bottom: 10rpx;
}

.recommend-desc {
	display: block;
	font-size: 24rpx;
	color: #666;
}
</style>
